[gd_scene load_steps=12 format=4 uid="uid://ckvihwcwa6y7l"]

[ext_resource type="Texture2D" uid="uid://chwbcf7n2ajtp" path="res://art/platforms/Platformer_spritesheet.png" id="1_2fp4v"]
[ext_resource type="Script" uid="uid://bywk6k3c1byw8" path="res://levels/level.gd" id="1_dm0pi"]
[ext_resource type="Texture2D" uid="uid://bja0wl8tcw71c" path="res://art/backgrounds/background_01.png" id="2_dm0pi"]
[ext_resource type="Texture2D" uid="uid://bujx43rcy5b85" path="res://art/backgrounds/background_02.png" id="3_71kry"]
[ext_resource type="PackedScene" uid="uid://cthfcrkul1llw" path="res://player/player.tscn" id="4_aqob7"]
[ext_resource type="PackedScene" uid="uid://elne8pql2k7j" path="res://interactables/pressure_plate/pressure_plate.tscn" id="6_71kry"]
[ext_resource type="PackedScene" uid="uid://dsc60k22e4c5j" path="res://interactables/door/door.tscn" id="7_aqob7"]
[ext_resource type="PackedScene" uid="uid://dhe4sggwm34e" path="res://interactables/chest/chest.tscn" id="8_thp0t"]
[ext_resource type="PackedScene" uid="uid://vc6gf05n38dv" path="res://interactables/key_door/key_door.tscn" id="9_b3jm5"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ty3hu"]
texture = ExtResource("1_2fp4v")
texture_region_size = Vector2i(128, 128)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, 64, -64, 64)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -15, 64, -54, 2)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 51, 2, 12, 64, -64, 64)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-15, -64, 64, -64, 64, 64, -17, 64, -34, 12)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:2/0 = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
0:3/0 = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 13, -64, 34, 3, 14, 64, -64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(64, -64, 64, 64, -64, 64)

[sub_resource type="TileSet" id="TileSet_ty3hu"]
tile_size = Vector2i(128, 128)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_ty3hu")

[node name="Level_01" type="Node2D" node_paths=PackedStringArray("players_container", "spawn_points")]
script = ExtResource("1_dm0pi")
player_scene = ExtResource("4_aqob7")
players_container = NodePath("----- Players -----/PlayersContainer")
spawn_points = [NodePath("----- Players -----/SpawnPoint_0"), NodePath("----- Players -----/SpawnPoint_1")]

[node name="----- Environment -----" type="Node" parent="."]

[node name="TileMapLayer" type="TileMapLayer" parent="----- Environment -----"]
scale = Vector2(0.5, 0.5)
tile_map_data = PackedByteArray("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AAADAP3/AAABAAEAAAACAP3/AAABAAEAAAABAP3/AAABAAEAAAAAAP3/AAABAAEAAAD///3/AAABAAEAAAD+//3/AAABAAEAAAD9//3/AAABAAEAAAD8//3/AAABAAEAAAD7//3/AAABAAEAAAD6//3/AAABAAEAAAD5//3/AAABAAEAAAD4//3/AAABAAEAAAD3//3/AAABAAEAAAD2//3/AAABAAEAAAD1//3/AAABAAEAAAD0//3/AAABAAEAAADz//3/AAABAAEAAADy//3/AAABAAEAAADy//7/AAABAAEAAADy////AAABAAEAAADy/wAAAAABAAEAAADz//7/AAABAAEAAADz////AAABAAEAAADz/wAAAAABAAEAAADx//3/AAABAAEAAADx//7/AAABAAEAAADx////AAABAAEAAADx/wAAAAABAAEAAAD0/wAAAAAAAAMAAAD0////AAAAAAMAAAD0//7/AAAAAAMAAADr//3/AAABAAEAAADr//7/AAABAAEAAADr////AAABAAEAAADr/wAAAAABAAEAAADr/wEAAAABAAEAAADr/wIAAAABAAEAAADr/wMAAAABAAEAAADr/wQAAAABAAEAAADr/wUAAAABAAEAAADr/wYAAAABAAEAAADr/wcAAAABAAEAAADr/wgAAAABAAEAAADs//3/AAABAAEAAADs//7/AAABAAEAAADs////AAABAAEAAADs/wAAAAABAAEAAADs/wEAAAABAAEAAADs/wIAAAABAAEAAADs/wMAAAABAAEAAADs/wQAAAABAAEAAADs/wUAAAABAAEAAADs/wYAAAABAAEAAADs/wcAAAABAAEAAADs/wgAAAABAAEAAADt//3/AAABAAEAAADt//7/AAABAAEAAADt////AAABAAEAAADt/wAAAAABAAEAAADt/wEAAAABAAEAAADt/wIAAAABAAEAAADt/wMAAAABAAEAAADt/wQAAAABAAEAAADt/wUAAAABAAEAAADt/wYAAAABAAEAAADt/wcAAAABAAEAAADt/wgAAAABAAEAAADu//3/AAABAAEAAADu//7/AAABAAEAAADu////AAABAAEAAADu/wAAAAABAAEAAADu/wEAAAABAAEAAADu/wIAAAABAAEAAADu/wMAAAABAAEAAADu/wQAAAABAAEAAADu/wUAAAABAAEAAADu/wYAAAABAAEAAADu/wcAAAABAAEAAADu/wgAAAABAAEAAADv//3/AAABAAEAAADv//7/AAABAAEAAADv////AAABAAEAAADv/wAAAAABAAEAAADv/wEAAAABAAEAAADv/wIAAAABAAEAAADv/wMAAAABAAEAAADv/wQAAAABAAEAAADv/wUAAAABAAEAAADv/wYAAAABAAEAAADv/wcAAAABAAEAAADv/wgAAAABAAEAAADw//3/AAABAAEAAADw//7/AAABAAEAAADw////AAABAAEAAADw/wAAAAABAAEAAADw/wEAAAABAAEAAADw/wIAAAABAAEAAADw/wMAAAABAAEAAADw/wQAAAABAAEAAADw/wUAAAABAAEAAADw/wYAAAABAAEAAADw/wcAAAABAAEAAADw/wgAAAABAAEAAAAfAP3/AAABAAEAAAAfAAQAAAABAAAAAAAgAP3/AAABAAEAAAAgAP7/AAAAAAIAAAAgAP//AAAAAAIAAAAgAAAAAAAAAAIAAAAgAAEAAAAAAAIAAAAgAAIAAAAAAAIAAAAgAAMAAAAAAAIAAAAgAAQAAAAAAAEAAAAgAAUAAAAAAAIAAAAgAAYAAAAAAAIAAAAgAAcAAAAAAAIAAAAgAAgAAAAAAAIAAAAhAP3/AAABAAEAAAAhAP7/AAABAAEAAAAhAP//AAABAAEAAAAhAAAAAAABAAEAAAAhAAEAAAABAAEAAAAhAAIAAAABAAEAAAAhAAMAAAABAAEAAAAhAAQAAAABAAEAAAAhAAUAAAABAAEAAAAhAAYAAAABAAEAAAAhAAcAAAABAAEAAAAhAAgAAAABAAEAAAAiAP3/AAABAAEAAAAiAP7/AAABAAEAAAAiAP//AAABAAEAAAAiAAAAAAABAAEAAAAiAAEAAAABAAEAAAAiAAIAAAABAAEAAAAiAAMAAAABAAEAAAAiAAQAAAABAAEAAAAiAAUAAAABAAEAAAAiAAYAAAABAAEAAAAiAAcAAAABAAEAAAAiAAgAAAABAAEAAAAjAP3/AAABAAEAAAAjAP7/AAABAAEAAAAjAP//AAABAAEAAAAjAAAAAAABAAEAAAAjAAEAAAABAAEAAAAjAAIAAAABAAEAAAAjAAMAAAABAAEAAAAjAAQAAAABAAEAAAAjAAUAAAABAAEAAAAjAAYAAAABAAEAAAAjAAcAAAABAAEAAAAjAAgAAAABAAEAAAAkAP3/AAABAAEAAAAkAP7/AAABAAEAAAAkAP//AAABAAEAAAAkAAAAAAABAAEAAAAkAAEAAAABAAEAAAAkAAIAAAABAAEAAAAkAAMAAAABAAEAAAAkAAQAAAABAAEAAAAkAAUAAAABAAEAAAAkAAYAAAABAAEAAAAkAAcAAAABAAEAAAAkAAgAAAABAAEAAAAlAP3/AAABAAEAAAAlAP7/AAABAAEAAAAlAP//AAABAAEAAAAlAAAAAAABAAEAAAAlAAEAAAABAAEAAAAlAAIAAAABAAEAAAAlAAMAAAABAAEAAAAlAAQAAAABAAEAAAAlAAUAAAABAAEAAAAlAAYAAAABAAEAAAAlAAcAAAABAAEAAAAlAAgAAAABAAEAAAAmAP3/AAABAAEAAAAmAP7/AAABAAEAAAAmAP//AAABAAEAAAAmAAAAAAABAAEAAAAmAAEAAAABAAEAAAAmAAIAAAABAAEAAAAmAAMAAAABAAEAAAAmAAQAAAABAAEAAAAmAAUAAAABAAEAAAAmAAYAAAABAAEAAAAmAAcAAAABAAEAAAAmAAgAAAABAAEAAAD1/wYAAAABAAAAAAD2/wYAAAABAAAAAAD3/wYAAAABAAAAAAD4/wYAAAABAAAAAAD5/wYAAAABAAAAAAD6/wYAAAABAAAAAAD7/wYAAAADAAEAAAAUAAQAAAADAAAAAAAVAAQAAAABAAAAAAAWAAQAAAADAAEAAAA=")
tile_set = SubResource("TileSet_ty3hu")

[node name="ParallaxBackground" type="ParallaxBackground" parent="----- Environment -----"]
offset = Vector2(0, -360)
transform = Transform2D(1, 0, 0, 1, 0, -360)

[node name="ParallaxTrees" type="ParallaxLayer" parent="----- Environment -----/ParallaxBackground"]
motion_scale = Vector2(0.25, 0.25)
motion_mirroring = Vector2(1334, 0)

[node name="BackgroundTrees" type="Sprite2D" parent="----- Environment -----/ParallaxBackground/ParallaxTrees"]
position = Vector2(0, 200)
texture = ExtResource("2_dm0pi")
centered = false

[node name="ParallaxLayer" type="ParallaxLayer" parent="----- Environment -----/ParallaxBackground"]
motion_scale = Vector2(0.5, 0.5)
motion_mirroring = Vector2(1334, 0)

[node name="BackgroundRocks" type="Sprite2D" parent="----- Environment -----/ParallaxBackground/ParallaxLayer"]
position = Vector2(0, 200)
texture = ExtResource("3_71kry")
centered = false

[node name="----- Interactables -----" type="Node" parent="."]

[node name="DoorPlate" parent="----- Interactables -----" instance=ExtResource("6_71kry")]
position = Vector2(-663, 379)

[node name="Door" parent="----- Interactables -----" instance=ExtResource("7_aqob7")]
position = Vector2(-286, 576)

[node name="Chest" parent="----- Interactables -----" instance=ExtResource("8_thp0t")]
position = Vector2(-683, 578)
scale = Vector2(-1, 1)

[node name="KeyDoor" parent="----- Interactables -----" instance=ExtResource("9_b3jm5")]
position = Vector2(2005, 256)

[node name="BridgePlate1" parent="----- Interactables -----" instance=ExtResource("6_71kry")]
position = Vector2(1324, 254)

[node name="BridgePlate2" parent="----- Interactables -----" instance=ExtResource("6_71kry")]
position = Vector2(1418, 254)

[node name="----- Players -----" type="Node" parent="."]

[node name="PlayersContainer" type="Node2D" parent="----- Players -----"]

[node name="PlayerSpawner" type="MultiplayerSpawner" parent="----- Players -----"]
_spawnable_scenes = PackedStringArray("uid://cthfcrkul1llw")
spawn_path = NodePath("../PlayersContainer")
spawn_limit = 2

[node name="SpawnPoint_0" type="Node2D" parent="----- Players -----"]
position = Vector2(0, 378)

[node name="SpawnPoint_1" type="Node2D" parent="----- Players -----"]
position = Vector2(33, 378)

[connection signal="toggle" from="----- Interactables -----/DoorPlate" to="----- Interactables -----/Door" method="activate"]
